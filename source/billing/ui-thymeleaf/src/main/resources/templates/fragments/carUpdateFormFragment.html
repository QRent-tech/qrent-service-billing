<div th:fragment="assembledForm">
    <div th:replace="fragments/commonFormFragment.html :: commonForm(
            title='Update a Car',
            closeRef='/cars',
            content=~{fragments/carUpdateFormFragment.html :: updateForm},
            request=${updateRequest}
        )">
    </div>
</div>

<form th:fragment="updateForm"
      th:action="@{/cars/update}"
      th:object="${updateRequest}"
      method="post">

    <input id="carId" required
           th:field="*{id}"
           type="text"
           hidden/>

    <div class="row">
        <div class="mb-3">
            <label class="form-label text-muted" for="statusId">Select Car Status</label>
            <select id="statusId" class="form-select"
                    th:field="*{status}">
                <option th:each="status: ${statuses}"
                        th:value="${status.key}"
                        th:text=" ${status.value}"></option>
            </select>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="mb-3">
                <label class="form-label text-muted" for="regNumberId">Registration Number </label>
                <input class="form-control" id="regNumberId" placeholder="Enter regNumber"
                       required
                       th:field="*{regNumber}"
                       type="text"/>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <label class="form-label text-muted" for="vinId">VIN</label>
                <input class="form-control" id="vinId" placeholder="Enter vin"
                       required
                       th:field="*{vin}"
                       type="text"/>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <label class="form-label text-muted" for="releaseDateId">Release Date</label>
                <input class="form-control" id="releaseDateId" placeholder="Enter releaseDate"
                       required
                       th:field="*{releaseDate}"
                       type="date"/>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="mb-3">
                <label class="form-label text-muted" for="manufacturerId">Manufacturer</label>
                <input class="form-control" id="manufacturerId" placeholder="Enter manufacturer" required
                       th:field="*{manufacturer}"
                       type="text"/>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <label class="form-label text-muted" for="modelId">Model</label>
                <input class="form-control" id="modelId" placeholder="Enter model" required
                       th:field="*{model}"
                       type="text"/>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="mb-3">
                <label class="form-label text-muted" for="gearTypeId">Gear Type</label>
                <input class="form-control" id="gearTypeId" placeholder="Enter gearType"
                       required
                       th:field="*{gearType}"
                       type="text"/>
            </div>
        </div>

        <div class="col">
            <div class="mb-3">
                <label class="form-label text-muted" for="fuelTypeId">Fuel Type</label>
                <input class="form-control" id="fuelTypeId" placeholder="Enter fuelType"
                       required
                       th:field="*{fuelType}"
                       type="text"/>
            </div>
        </div>
    </div>

    <p class="fs-5">Q-info:</p>
    <div class="row">
        <div class="col">
            <div class="mb-3">
                <input class="form-check-input" id="activeId"
                       th:field="*{active}"
                       type="checkbox"/>
                <label class="form-check-label text-muted" for="activeId">Active Car</label>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <input class="form-check-input" id="qRentId"
                       th:field="*{qRent}"
                       type="checkbox"/>
                <label class="form-check-label text-muted" for="qRentId">Q-Rent</label>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <input class="form-check-input" id="eleganceId"
                       th:field="*{elegance}"
                       type="checkbox"/>
                <label class="form-label text-muted" for="eleganceId">Elegance</label>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <input class="form-check-input" id="appropriationId"
                       th:field="*{appropriation}"
                       type="checkbox"/>
                <label class="form-label text-muted" for="appropriationId">Appropriation</label>
            </div>
        </div>
    </div>

    <p class="fs-5">Branding:</p>
    <div class="row">
        <div class="col">
            <div class="mb-3">
                <input class="form-check-input" id="byQrentId"
                       th:field="*{brandingQrent}"
                       type="checkbox"/>
                <label class="form-check-label text-muted" for="byQrentId">Q-Rent</label>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <input class="form-check-input" id="byBoltId"
                       th:field="*{brandingBolt}"
                       type="checkbox"/>
                <label class="form-check-label text-muted" for="byBoltId">Bolt</label>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <input class="form-check-input" id="byForusId"
                       th:field="*{brandingForus}"
                       type="checkbox"/>
                <label class="form-label text-muted" for="byForusId">Forus</label>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <input class="form-check-input" id="byUberId"
                       th:field="*{brandingUber}"
                       type="checkbox"/>
                <label class="form-label text-muted" for="byUberId">Uber</label>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <input class="form-check-input" id="byTallinkId"
                       th:field="*{brandingTallink}"
                       type="checkbox"/>
                <label class="form-label text-muted" for="byTallinkId">Tallink</label>
            </div>
        </div>
    </div>

    <p class="fs-5">LPG info:</p>
    <div class="row">
        <div class="col-2">
            <div class="mb-3 mt-4">
                <input class="form-check-input" id="lpgId"
                       th:field="*{lpg}"
                       type="checkbox"/>
                <label class="form-label text-muted" for="lpgId">LPG</label>
            </div>
        </div>
        <div class="col-5">
            <div class="mb-3">
                <label class="form-label text-muted" for="dateInstallLpgId">Date Installing LPG</label>
                <input class="form-control" id="dateInstallLpgId" placeholder="Enter date Install Lpg"
                       th:field="*{dateInstallLpg}"
                       type="date"/>
            </div>
        </div>
        <div class="col-5">
            <div class="mb-3">
                <label class="form-label text-muted" for="dateEndLpgId">End Date of added fee for LPG</label>
                <input class="form-control" id="dateEndLpgId" placeholder="Enter end date of added fee for Lpg"
                       th:field="*{dateEndLpg}"
                       type="date"/>
            </div>
        </div>
    </div>
    <p class="fs-5">Insurance info:</p>
    <div class="row">
        <div class="col">
            <div class="mb-3">
                <label class="form-label text-muted" for="insuranceFirmId">Firm </label>
                <input class="form-control" id="insuranceFirmId" placeholder="Enter insurance Firm"
                       required
                       th:field="*{insuranceFirm}"
                       type="text"/>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <label class="form-label text-muted" for="insuranceDateStartId">Date Start</label>
                <input class="form-control" id="insuranceDateStartId"
                       placeholder="Enter insuranceDateStart"
                       required
                       th:field="*{insuranceDateStart}"
                       type="date"/>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <label class="form-label text-muted" for="insuranceDateEndId">Date End</label>
                <input class="form-control" id="insuranceDateEndId" placeholder="Enter insurance Date End"
                       required
                       th:field="*{insuranceDateEnd}"
                       type="date"/>
            </div>
        </div>
    </div>
    <p class="fs-5">Car equipments:</p>
    <div class="row">
        <div class="col">
            <div class="mb-3">
                <input class="form-check-input" id="sCardId"
                       th:field="*{sCard}"
                       type="checkbox"/>
                <label class="form-label text-muted" for="sCardId">S-Card</label>
            </div>
        </div>
        <div class="col">
            <div class="mb-3">
                <input class="form-check-input" id="key2Id"
                       th:field="*{key2}"
                       type="checkbox"/>
                <label class="form-check-label text-muted" for="key2Id">Key 2</label>
            </div>
        </div>

        <div class="col">
            <div class="mb-3">
                <input class="form-check-input" id="gpsId"
                       th:field="*{gps}"
                       type="checkbox"/>
                <label class="form-label text-muted" for="gpsId">GPS</label>
            </div>
        </div>
    </div>
    <p class="fs-5">Car inspections:</p>
    <div class="row">
        <div class="col">
            <div class="mb-3">
                <label class="form-label text-muted" for="technicalInspectionEnd">Technical Inspection
                    Expiration</label>
                <input class="form-control" id="technicalInspectionEnd"
                       placeholder="Enter Technical Inspection Expiration date"
                       required
                       th:field="*{technicalInspectionEnd}"
                       type="date"/>
            </div>
        </div>

        <div class="col">
            <div class="mb-3">
                <label class="form-label text-muted" for="gasInspectionEnd">Gas Inspection Expiration</label>
                <input class="form-control" id="gasInspectionEnd"
                       placeholder="Enter gas Inspection Expiration Date"
                       th:field="*{gasInspectionEnd}"
                       type="date"/>
            </div>
        </div>
    </div>
    <div class="mb-3">
        <label class="form-label text-muted" for="commentId">Comment</label>
        <textarea class="form-control"
                  id="commentId"
                  placeholder="Enter Comment"
                  th:field="*{comment}"/>
    </div>
    <div th:replace="fragments/addUpdateFormButtonsFragment.html :: addUpdateButtons(
            submitValue='Update',
            cancelHref='/cars'
        )">
    </div>
</form>
